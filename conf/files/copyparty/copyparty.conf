# Template from:
# https://github.com/9001/copyparty/blob/hovudstraum/docs/example.conf

# append some arguments to the commandline;
# accepts anything listed in --help (leading dashes are optional)
# and inline comments are OK if there is 2 spaces before the '#'
[global]
  p: 6969
  rproxy: 1  # For my reverse proxy
  e2dsa  # enable file indexing and filesystem scanning
  e2ts   # and enable multimedia indexing
  z, qr  # and zeroconf and qrcode (you can comma-separate arguments)
  no-robots
  usernames
  ah-alg: argon2
  name: Kris's copyparty
  name-url: https://party.kristofferbalintona.me/
  show-ah-salt
  ah-salt: 880jUWho350b058O6y1WfmdD
  hist: /home/krisbalintona/.cache/copyparty 

# Create users.  I hash my passwords (--ah-alg).  I also have
# --usernames, meaning the hash below is the result of
# USERNAME:PASSWORD as the password inputted in e.g. --ah-gen and
# --ah-cli.
[accounts]
  krisbalintona: +2JlSt_eC1b-2QvOigxJE2LcdcVBJOWbI

[groups]
  admin: krisbalintona

# create volumes:
[/]
  /home/krisbalintona/copyparty-data/root/
  accs:
    r: *
    A: @admin

[/secrets]
  /home/krisbalintona/copyparty-data/root/secrets/
  accs:
    g: *
    A: @admin
  flags:
    fka
    dk
  
[/biblio]
  /home/krisbalintona/copyparty-data/biblio/
  accs:
    g: *
    A: @admin
  flags:
    dk
    fka

# A folder where anyone can upload, but nobody can see the contents
[/dump]
  /home/krisbalintona/copyparty-data/root/dump/
  accs:
    r: *
    w: *
    A: @admin
  flags:
    e2d     # the e2d volflag enables the uploads database
    nodupe  # the nodupe volflag rejects duplicate uploads

# # and a folder where anyone can upload
# # and anyone can access their own uploads, but nothing else
# [/sharex]
#   /home/ed/inc/sharex
#   accs:
#     wG: *        # wG = write-upget = see your own uploads only
#     rwmd: ed, k  # read-write-modify-delete for users "ed" and "k"
#   flags:
#     e2d, d2t, fk: 4
#     # volflag "e2d" enables the uploads database,
#     # "d2t" disables multimedia parsers (in case the uploads are malicious),
#     # "dthumb" disables thumbnails (same reason),
#     # "fk" enables filekeys (necessary for upget permission) (4 chars long)
#     # -- note that its fine to combine all the volflags on
#     #    one line because only the last volflag has an argument
